let indexer;!function(){const t=window.location.pathname;document.querySelectorAll(".nav-list li > a").forEach((e=>{new URL(e.href).pathname===t&&e.classList.add("active")}))}(),function(){const t=document.body,e=document.querySelector(".nav-list li > div"),n=document.querySelector(".menu-list");e&&n&&e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active-menu"),t.classList.contains("active-menu")?n.style.height=n.scrollHeight+15+"px":n.style.height="0"}))}();class TooltipDataIndexer{constructor(t){this.index=new Map,this.buildIndex(t)}buildIndex(t){if(!t)return;const e=[t.champions?.mainChampions,t.champions?.revivalChampions,t.traits?.mainTraits,t.traits?.revivalTraits,t.augments?.mainAugs,t.augments?.revivalAugs,t.items?.mainItems,t.items?.revivalItems];for(const t of e)if(Array.isArray(t))for(const e of t)e&&e.apiName&&this.index.set(e.apiName,e)}getTooltipData(t){return this.index.get(t)||null}}function renderTooltipContent(t){if("cost"in t){const{name:e,cost:n,icon:i,traits:a,skillIcon:s,skillDesc:o,skillName:c,mana:r}=t;return`\n              <div class="champ-card champ-cost-${n}"><div class="champ-header"><div><h3>${e}</h3><span>${n}<img src="https://cdn.jsdelivr.net/gh/hoangdieu606/tft@main/images/gold.png"></span></div><div><img src="${convertURL(i)}" alt="${e}"><div class="traits">${a.map((t=>`<span class="trait"><img src="${convertURL(t.icon)}">${t.name}</span>`)).join("")}</div></div></div><div class="skill"><div class="skill-name"><div><img src="${convertURL(s||i)}" alt="${c}"></div><div><h4>${c}</h4><p><img src="https://cdn.jsdelivr.net/gh/hoangdieu606/tft@main/images/Mana.png">${r}</p></div></div><div class="skill-desc"><p>${o}</p></div></div></div>\n          `}if("level"in t){const e=localStorage.getItem("postData");if(!e)return;const{name:n,desc:i,level:a,icon:s,champions:o,category:c}=t;let r="";if(e){const t=JSON.parse(e),n=Object.fromEntries(t.champions.mainChampions.map((({apiName:t,icon:e,cost:n})=>[t,[e,n]])));r=o.map((({apiName:t})=>`<li class="champ-cost-${n[t][1]}"><img src="${convertURL(n[t][0])}"></liv>`)).join("")}return`\n        <div class="trait-card trait-${c}">\n                <div class="trait-header">\n                    <div class="trait-style">\n                        <img src="${convertURL(s)}" alt="${n}">\n                        <h3>${n}</h3>\n                    </div>\n                    <ul class="champ-list">${r}</ul>\n                </div>\n                <div class="trait-desc">\n                    <div class="origin-desc"><p>${i}</p></div>\n                    <div class="origin-level"><ul>${a.map((t=>`<li>${t}</li>`)).join("")}</ul></div>\n                </div>\n            </div>\n        `}if("effects"in t){const{name:e,icon:n,desc:i,tier:a,effects:s,category:o,composition:c}=t;let r="";const l=localStorage.getItem("postData");if(l){const t=JSON.parse(l),e=apiNameAndIcon(t.items.mainItems);r=c?.length?`<span class="item-composition"><span><img src="${convertURL(e[c[0]])}"></span><span>+</span><span><img src="${convertURL(e[c[1]])}"></span></span>`:""}return`\n              <div class="items-item item-${o} tier-${a}">\n                  <div class="item-icon">\n                      <img src="${convertURL(n)}" alt="${e}">\n                      <span>${a}</span>\n                      ${r}\n                  </div>\n                  <div class="item-content">\n                      <div class="item-title">\n                        <div><h3>${e}</h3></div>\n                        <span>${generateStatsHTML(s)}</span>\n                      </div>\n                      <p>${i}</p>\n                  </div>\n              </div>\n  `}if("tier2"in t){const{name:e,icon:n,desc:i,tier:a,tier2:s}=t;return`<div class="aug-item augs-tier-${a} tier-${s}">\n                 <div class="aug-icon">\n                  <img src="${convertURL(n)}" alt="${e} icon">\n                  <span>${s}</span>\n                </div>\n                <div class="aug-content">\n                    <h3>${e}</h3>\n                    <p>${i}</p>\n                </div>\n                </div>`}}function showTooltip(t){const e=document.createElement("div");e.className="tooltip";const n=t.target.dataset.apiName,i=indexer.getTooltipData(n);if(!i)return;e.innerHTML=renderTooltipContent(i),document.body.appendChild(e);const a=t.touches?.length>0,s=a?t.touches[0].clientX:t.clientX,o=a?t.touches[0].clientY:t.clientY;let c=s+10,r=o+10;const l=e.offsetWidth,d=e.offsetHeight,m=window.innerWidth,p=window.innerHeight;c+l>m&&(c=s-l-10),r+d>p&&(r=o-d-10),c=Math.max(10,Math.min(c,m-l-10)),r=Math.max(10,Math.min(r,p-d-10)),e.style.left=`${c}px`,e.style.top=`${r}px`}function hideTooltip(){const t=document.querySelector(".tooltip");t&&t.remove()}function setupTooltips(){document.querySelectorAll("[data-api-name]").forEach((t=>{t.addEventListener("mouseover",showTooltip),t.addEventListener("mouseout",hideTooltip),t.addEventListener("touchstart",showTooltip,{passive:!0}),t.addEventListener("touchend",hideTooltip)}))}!async function(){let t=null,e=null,n="fetch",i="fetch";const a=async(t,e=1e4)=>{const n=new AbortController,i=setTimeout((()=>{n.abort()}),e);try{const e=await fetch(t,{signal:n.signal});if(clearTimeout(i),!e.ok)throw new Error(`HTTP error! Status: ${e.status} for URL: ${t}`);return await e.json()}catch(t){throw clearTimeout(i),t}};try{t=await a("https://hocvientft.hoquocdieu.workers.dev")}catch(t){}if(!t){const e=localStorage.getItem("postData");e&&(t=JSON.parse(e),n="storage")}try{e=await a("https://comp-hocvientft.hoquocdieu.workers.dev/"),i="comp-hocvientft"}catch(t){try{e=await a("https://cdn.jsdelivr.net/gh/hoangdieu606/tft@main/guides.json"),i="cdn.jsdelivr"}catch(t){const n=localStorage.getItem("guidesData");n&&(e=JSON.parse(n),i="storage")}}t&&("function"==typeof renderData&&renderData(t.champions.mainChampions),"function"==typeof renderClassOrigin&&renderClassOrigin(t.traits.mainTraits,t.champions.mainChampions),"function"==typeof renderArguments&&renderArguments(t.augments.mainAugs),"function"==typeof renderItems&&renderItems(t.items.mainItems),"function"==typeof renderComp&&renderComp(t,e||{}),indexer=new TooltipDataIndexer(t),setupTooltips(),localStorage.setItem("postData",JSON.stringify(t)),e&&localStorage.setItem("guidesData",JSON.stringify(e)))}(),function(){const t=window.location.pathname;document.querySelectorAll("#champions-menu a").forEach((e=>{new URL(e.href).pathname===t&&e.classList.add("active")}))}(),function(){const t=document.body;t.setAttribute("btn-filter","category-0-active"),document.querySelectorAll(".menu-btn-filter-category button").forEach(((e,n)=>{e.addEventListener("click",(()=>{t.setAttribute("btn-filter",`category-${n}-active`)}))}))}();