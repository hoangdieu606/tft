let indexer;!function(){const t=window.location.pathname;document.querySelectorAll(".nav-list li > a").forEach((e=>{new URL(e.href).pathname===t&&e.classList.add("active")}))}(),function(){const t=document.body,e=document.querySelector(".nav-list li > div"),n=document.querySelector(".menu-list");e&&n&&e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active-menu"),t.classList.contains("active-menu")?n.style.height=n.scrollHeight+15+"px":n.style.height="0"}))}();class TooltipDataIndexer{constructor(t){this.index=new Map,this.buildIndex(t)}buildIndex(t){if(!t)return;const e=[t.champions?.mainChampions,t.champions?.revivalChampions,t.traits?.mainTraits,t.traits?.revivalTraits,t.augments?.mainAugs,t.augments?.revivalAugs,t.items?.mainItems,t.items?.revivalItems];for(const t of e)if(Array.isArray(t))for(const e of t)e&&e.apiName&&this.index.set(e.apiName,e)}getTooltipData(t){return this.index.get(t)||null}}function renderTooltipContent(t){if("cost"in t){const{name:e,cost:n,icon:i,traits:s,skillIcon:a,skillDesc:o,skillName:c,mana:r}=t;return`\n              <div class="champ-card champ-cost-${n}"><div class="champ-header"><div><h3>${e}</h3><span>4 <img src="https://cdn.jsdelivr.net/gh/hoangdieu606/tft@main/images/gold.png"></span></div><div><img src="${convertURL(i)}" alt="${e}"><div class="traits">${s.map((t=>`<span class="trait"><img src="${convertURL(t.icon)}">${t.name}</span>`)).join("")}</div></div></div><div class="skill"><div class="skill-name"><div><img src="${convertURL(a)}" alt="${c}"></div><div><h4>${c}</h4><p><img src="https://cdn.jsdelivr.net/gh/hoangdieu606/tft@main/images/Mana.png">${r}</p></div></div><div class="skill-desc"><p>${o}</p></div></div></div>\n          `}if("level"in t){const{name:e,icon:n,desc:i,level:s}=t}if("effects"in t){const{name:e,icon:n,desc:i,tier:s,effects:a,category:o,composition:c}=t;let r="";const l=localStorage.getItem("postData");if(l){const t=JSON.parse(l),e=apiNameAndIcon(t.items.mainItems);r=c?.length?`<span class="item-composition"><span><img src="${convertURL(e[c[0]])}"></span><span>+</span><span><img src="${convertURL(e[c[1]])}"></span></span>`:""}return`\n              <div class="items-item item-${o} tier-${s}">\n                  <div class="item-icon">\n                      <img src="${convertURL(n)}" alt="${e}">\n                      <span>${s}</span>\n                      ${r}\n                  </div>\n                  <div class="item-content">\n                      <div class="item-title">\n                        <div><h3>${e}</h3></div>\n                        <span>${generateStatsHTML(a)}</span>\n                      </div>\n                      <p>${i}</p>\n                  </div>\n              </div>\n  `}if("tier2"in t){const{name:e,icon:n,desc:i,tier:s,tier2:a}=t;return`<div class="aug-item augs-tier-${s} tier-${a}">\n                 <div class="aug-icon">\n                  <img src="${convertURL(n)}" alt="${e} icon">\n                  <span>${a}</span>\n                </div>\n                <div class="aug-content">\n                    <h3>${e}</h3>\n                    <p>${i}</p>\n                </div>\n                </div>`}}function showTooltip(t){const e=document.createElement("div");e.className="tooltip";const n=t.target.dataset.apiName,i=indexer.getTooltipData(n);if(!i)return;e.innerHTML=renderTooltipContent(i),document.body.appendChild(e);const s=t.touches?.length>0,a=s?t.touches[0].clientX:t.clientX,o=s?t.touches[0].clientY:t.clientY;let c=a+10,r=o+10;const l=e.offsetWidth,d=e.offsetHeight,m=window.innerWidth,p=window.innerHeight;c+l>m&&(c=a-l-10),r+d>p&&(r=o-d-10),c=Math.max(10,Math.min(c,m-l-10)),r=Math.max(10,Math.min(r,p-d-10)),e.style.left=`${c}px`,e.style.top=`${r}px`}function hideTooltip(){const t=document.querySelector(".tooltip");t&&t.remove()}function setupTooltips(){document.querySelectorAll("img[data-api-name]").forEach((t=>{t.addEventListener("mouseover",showTooltip),t.addEventListener("mouseout",hideTooltip),t.addEventListener("touchstart",showTooltip,{passive:!0}),t.addEventListener("touchend",hideTooltip)}))}!async function(){let t=null;try{const e=new AbortController,n=setTimeout((()=>{e.abort()}),1e4),i=await fetch("https://hocvientft.hoquocdieu.workers.dev",{signal:e.signal});if(clearTimeout(n),!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);t=await i.json()}catch(t){}let e="fetch";if(!t){const n=localStorage.getItem("postData");n&&(t=JSON.parse(n),e="storage")}t&&("function"==typeof renderData&&renderData(t.champions.mainChampions),"function"==typeof renderClassOrigin&&renderClassOrigin(t.traits.mainTraits,t.champions.mainChampions),"function"==typeof renderArguments&&renderArguments(t.augments.mainAugs),"function"==typeof renderItems&&renderItems(t.items.mainItems),indexer=new TooltipDataIndexer(t),setupTooltips(),localStorage.setItem("postData",JSON.stringify(t)))}(),function(){const t=window.location.pathname;document.querySelectorAll("#champions-menu a").forEach((e=>{new URL(e.href).pathname===t&&e.classList.add("active")}))}(),function(){const t=document.body;t.setAttribute("btn-filter","category-0-active"),document.querySelectorAll(".menu-btn-filter-category button").forEach(((e,n)=>{e.addEventListener("click",(()=>{t.setAttribute("btn-filter",`category-${n}-active`)}))}))}();